@namespace CampaignManager.Web.Components.Shared

<div class="@(IsVisible ? "fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex justify-center items-start pt-10 sm:pt-20 px-4" : "hidden")">
    <div class="bg-white rounded-2xl shadow-2xl overflow-hidden w-full @MaxWidthClass animate-fadeIn">
        <!-- Header -->
        <div class="p-6 border-b border-gray-200 @HeaderBgClass text-white flex justify-between items-center">
            <h3 class="font-bold text-xl sm:text-2xl">@Title</h3>
            <button @onclick="OnClose" 
                    class="min-w-[44px] min-h-[44px] flex items-center justify-center text-white hover:bg-opacity-80 rounded-lg transition-all duration-200 active:bg-opacity-90">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>

        <!-- Body -->
        <div class="p-6 sm:p-8 bg-white @(MaxHeight != null ? $"max-h-[{MaxHeight}] overflow-y-auto" : "")">
            @ChildContent
        </div>

        <!-- Footer -->
        @if (FooterContent != null)
        {
            <div class="p-6 border-t border-gray-200 flex flex-col sm:flex-row justify-end gap-3 bg-gray-50">
                @FooterContent
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public bool IsVisible { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public RenderFragment? FooterContent { get; set; }
    [Parameter] public string MaxWidth { get; set; } = "4xl"; // sm, md, lg, xl, 2xl, 3xl, 4xl, 5xl, 6xl, 7xl
    [Parameter] public string? MaxHeight { get; set; } = "70vh";
    [Parameter] public string HeaderColorScheme { get; set; } = "primary"; // primary, red, blue, green, etc.

    private string MaxWidthClass => $"max-w-{MaxWidth}";
    
    private string HeaderBgClass => HeaderColorScheme.ToLower() switch
    {
        "red" => "bg-gradient-to-r from-red-500 to-red-600",
        "error" => "bg-gradient-to-r from-red-500 to-red-600",
        "blue" => "bg-gradient-to-r from-blue-500 to-blue-600",
        "green" => "bg-gradient-to-r from-green-500 to-green-600",
        "success" => "bg-gradient-to-r from-green-500 to-green-600",
        "primary" => "bg-gradient-to-r from-primary-500 to-primary-600",
        _ => "bg-gradient-to-r from-primary-500 to-primary-600"
    };
}
