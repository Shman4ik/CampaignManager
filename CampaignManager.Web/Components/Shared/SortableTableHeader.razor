@namespace CampaignManager.Web.Components.Shared

<th class="px-4 sm:px-6 py-4 text-left font-semibold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors active:bg-gray-300"
    @onclick="OnSort">
    <div class="flex items-center justify-between gap-2">
        <span>@Title</span>
        <i class="fas @GetSortIcon() text-gray-400"></i>
    </div>
</th>

@code {
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string FieldName { get; set; } = string.Empty;
    [Parameter] public string? CurrentSortField { get; set; }
    [Parameter] public bool SortAscending { get; set; } = true;
    [Parameter] public EventCallback<string> OnSortChanged { get; set; }

    private async Task OnSort()
    {
        await OnSortChanged.InvokeAsync(FieldName);
    }

    private string GetSortIcon()
    {
        if (CurrentSortField != FieldName)
            return "fa-sort";

        return SortAscending ? "fa-sort-up" : "fa-sort-down";
    }
}
