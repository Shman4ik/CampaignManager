@namespace CampaignManager.Web.Components.Shared

<button @onclick="OnClick" type="@Type" class="@GetButtonClasses()" disabled="@Disabled">
    @ChildContent
</button>

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }
    
    [Parameter]
    public EventCallback OnClick { get; set; }
    
    [Parameter]
    public string Color { get; set; } = "primary";
    
    [Parameter]
    public bool Outline { get; set; } = false;
    
    [Parameter]
    public bool Small { get; set; } = false;
    
    [Parameter]
    public bool Disabled { get; set; } = false;
    
    [Parameter]
    public string Type { get; set; } = "button";
    
    private string GetButtonClasses()
    {
        var sizeClasses = Small ? "px-2 py-1 text-xs" : "px-4 py-2 text-sm";
        var baseClasses = "font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2";
        var disabledClasses = Disabled ? "opacity-50 cursor-not-allowed" : "hover:shadow-md";
        
        return Color.ToLower() switch
        {
            "primary" => Outline 
                ? $"border border-primary-500 text-primary-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-primary-500 hover:bg-primary-50"
                : $"bg-primary-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-primary-500 hover:bg-primary-600",
                
            "secondary" => Outline 
                ? $"border border-secondary-500 text-secondary-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-secondary-500 hover:bg-secondary-50"
                : $"bg-secondary-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-secondary-500 hover:bg-secondary-600",
                
            "accent" => Outline 
                ? $"border border-accent-500 text-accent-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-accent-500 hover:bg-accent-50"
                : $"bg-accent-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-accent-500 hover:bg-accent-600",
                
            "success" => Outline 
                ? $"border border-success-500 text-success-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-success-500 hover:bg-success-50"
                : $"bg-success-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-success-500 hover:bg-success-600",
                
            "warning" => Outline 
                ? $"border border-warning-500 text-warning-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-warning-500 hover:bg-warning-50"
                : $"bg-warning-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-warning-500 hover:bg-warning-600",
                
            "error" => Outline 
                ? $"border border-error-500 text-error-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-error-500 hover:bg-error-50"
                : $"bg-error-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-error-500 hover:bg-error-600",
                
            "info" => Outline 
                ? $"border border-info-500 text-info-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-info-500 hover:bg-info-50"
                : $"bg-info-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-info-500 hover:bg-info-600",
                
            _ => Outline 
                ? $"border border-primary-500 text-primary-600 {baseClasses} {sizeClasses} {disabledClasses} focus:ring-primary-500 hover:bg-primary-50"
                : $"bg-primary-500 text-white {baseClasses} {sizeClasses} {disabledClasses} focus:ring-primary-500 hover:bg-primary-600",
        };
    }
}
