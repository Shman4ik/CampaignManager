@namespace CampaignManager.Web.Components.Shared

<span class="@GetBadgeClasses()">
    @ChildContent
</span>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Color variant: primary, secondary, accent, success, warning, error, info
    /// </summary>
    [Parameter] public string Variant { get; set; } = "primary";

    /// <summary>
    /// Size: sm, md, lg
    /// </summary>
    [Parameter] public string Size { get; set; } = "md";

    /// <summary>
    /// Border radius: md, lg, full
    /// </summary>
    [Parameter] public string Rounded { get; set; } = "lg";

    /// <summary>
    /// Add border around the badge
    /// </summary>
    [Parameter] public bool WithBorder { get; set; } = true;

    private string GetBadgeClasses()
    {
        var baseClasses = "inline-flex items-center font-semibold";
        var sizeClasses = GetSizeClasses();
        var roundedClasses = GetRoundedClasses();
        var colorClasses = GetColorClasses();

        return $"{baseClasses} {sizeClasses} {roundedClasses} {colorClasses}".Trim();
    }

    private string GetSizeClasses()
    {
        return Size.ToLower() switch
        {
            "sm" => "px-2 py-0.5 text-xs",
            "md" => "px-3 py-1.5 text-sm",
            "lg" => "px-4 py-2 text-base",
            _ => "px-3 py-1.5 text-sm"
        };
    }

    private string GetRoundedClasses()
    {
        return Rounded.ToLower() switch
        {
            "md" => "rounded-md",
            "lg" => "rounded-lg",
            "full" => "rounded-full",
            _ => "rounded-lg"
        };
    }

    private string GetColorClasses()
    {
        var variant = Variant.ToLower();
        var borderClass = WithBorder ? $"border border-{variant}-200" : "";

        return variant switch
        {
            "primary" => $"bg-primary-100 text-primary-800 {borderClass}",
            "secondary" => $"bg-secondary-100 text-secondary-800 {borderClass}",
            "accent" => $"bg-accent-100 text-accent-800 {borderClass}",
            "success" => $"bg-success-100 text-success-800 {borderClass}",
            "warning" => $"bg-warning-100 text-warning-800 {borderClass}",
            "error" => $"bg-error-100 text-error-800 {borderClass}",
            "info" => $"bg-info-100 text-info-800 {borderClass}",
            _ => $"bg-primary-100 text-primary-800 {borderClass}"
        };
    }
}
