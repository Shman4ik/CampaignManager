@using CampaignManager.Web.Components.Navigation
@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<div class="flex h-screen bg-gray-100">
    <div class="flex-1 flex flex-col overflow-hidden">
        <TopBar />

        <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-200">
            <div class="container mx-auto px-6 py-8">
                @Body
            </div>
        </main>
    </div>
</div>

<div id="blazor-error-ui" class="fixed inset-0 flex items-center justify-center" style="display:none;">
    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4" role="alert">
        <p class="font-bold">Error</p>
        <p>An unhandled error has occurred.</p>
        <button @onclick="ReloadPage" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded mt-2">
            Reload
        </button>
    </div>
</div>

@code {
    private void ReloadPage()
    {
        NavigationManager.NavigateTo(NavigationManager.Uri, forceLoad: true);
    }
}